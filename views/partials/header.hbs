{{!--
  Partial Template: header.hbs
  Purpose: 
    - Provides a consistent header across all pages with specific variations.
    - Displays dynamic content based on the page context and user interaction.

  Structure:
    - Error/Confirmation Message Area: 
      This section is reserved for displaying error messages or confirmation notifications. It will only be visible when there is a message to display.

    - Main Header:
      - Hamburger Menu: Visible on the left side, for navigation purposes.
      - Page Title: Displays the current level or page name, situated next to the hamburger menu.
      - User Information: Displays the username, aligned to the far right.

  Conditional Display:
    - Home Page: 
      Displays the site name on the extreme left and 'Signup' and 'Login' buttons on the extreme right. The usual main header components are not displayed.

    - Signup and Login Pages:
      These pages will display only the error/warning/confirmation message area if applicable. The main header components are omitted.

  Usage Notes:
    - This template should be included at the top of page templates where a header is required.
    - The content for the error/warning/confirmation messages and the page title should be dynamically injected based on the current page context and user state.
--}}

<header>
  {{!-- SVG images needed for the popup messages --}}
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16">
      <path
        d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" />
    </symbol>
    <symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
      <path
        d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
    </symbol>
  </svg>

  {{!-- Error and Success message --}}
  {{#if error}}
  <div class="alert alert-danger" role="alert">
    <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Danger:">
      <use xlink:href="#exclamation-triangle-fill" />
    </svg>
    <div>
      {{error}}
    </div>
  </div>
  {{/if}}
  {{#if confirmation}}
  <div class="alert alert-success d-flex align-items-center" role="alert">
    <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Success:">
      <use xlink:href="#check-circle-fill" />
    </svg>
    <div>
      {{confirmation}}
    </div>
  </div>
  {{/if}}

  {{!-- Navbar --}}
  {{#if (eq currentPage 'home')}}
  {{!-- Navbar for Home Page --}}
  <nav class="navbar navbar-light bg-light">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">PrepPal</a>
      <div class="d-flex">
        <a class="btn btn-outline-success" href="/signup">Signup</a>
        <a class="btn btn-outline-primary ms-2" href="/login">Login</a>
      </div>
    </div>
  </nav>
  {{else if (or (eq currentPage 'signup') (eq currentPage 'login'))}}
  <!-- No Navbar for Signup and Login Pages -->
  {{else}}
  {{!-- Default Navbar --}}
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
      {{!-- Hamburger Menu --}}
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      {{!-- Site name --}}
      <a class="navbar-brand" href="#">{{pageName}}</a>

      {{!-- Navbar Links --}}
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="#">{{currentPage}}</a>
          </li>
        </ul>

        <!-- Username to the right -->
        <span class="navbar-text ms-auto">
          {{username}}
        </span>
      </div>
    </div>
  </nav>
  {{/if}}
</header>